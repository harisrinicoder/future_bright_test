
{% extends 'base.html' %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
  <div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">Blog Posts</h2>
      
      {% if user.is_authenticated %}
        <a href="{% url 'post_create' %}" class="btn btn-success">Create New Post</a>
      {% endif %}
    </div>

    {% for post in posts %}
      <div class="mb-4">
        <h4>{{ post.title }}</h4>
        <p class="text-muted">by {{ post.author }} on {{ post.created_at }}</p>
        <p>{{ post.content|truncatewords:40 }}</p>
        <a href="{% url 'post_detail' post.pk %}" class="btn btn-sm btn-outline-primary">Read More</a>
      </div>
      <hr>
    {% empty %}
      <p>No blog posts found.</p>
    {% endfor %}
  </div>
{% endblock %}
